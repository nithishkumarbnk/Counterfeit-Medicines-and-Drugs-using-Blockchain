// .devcontainer/devcontainer.json
{
  "name": "Blockchain Medicine Tracker",
  "dockerComposeFile": "../docker-compose.yml",
  "service": "backend", // Which service in docker-compose.yml to use as the primary development container
  "workspaceFolder": "/app", // The workspace folder *within* the primary service container
  "remoteUser": "node", // The user to run as inside the container (e.g., 'node' for node:alpine images )

  "customizations": {
    "vscode": {
      "extensions": [
        "ms-vscode.vscode-typescript-next",
        "esbenp.prettier-vscode",
        "solidity.solidity" // Essential for Solidity development
      ]
    }
  },

  "portsAttributes": {
    "3000": { "label": "Frontend (React App)", "onAutoForward": "notify" },
    "5000": { "label": "Backend API", "onAutoForward": "notify" },
    "8545": { "label": "Ganache Blockchain", "onAutoForward": "notify" }
  },
  "forwardPorts": [3000, 5000, 8545],

  // --- ENSURE THIS SECTION IS CORRECTLY CONFIGURED ---
  // Environment variables to be set in the remote environment where VS Code runs commands (including docker-compose)
  "remoteEnv": {
    "FIREBASE_SERVICE_ACCOUNT_KEY_BASE64": "ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAiY291bnRlcmZpZXQtMTMwZjciLAogICJwcml2YXRlX2tleV9pZCI6ICJjNDQ2MzNmZDgyNmUwYTI4NjA5NTU3M2Y1YTVhMTA2MmM0NDVjNGNhIiwKICAicHJpdmF0ZV9rZXkiOiAiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tXG5NSUlFdlFJQkFEQU5CZ2txaGtpRzl3MEJBUUVGQUFTQ0JLY3dnZ1NqQWdFQUFvSUJBUUN5aWxpWVhkbkNhLzdYXG5RRm1SdUFiREk2bitvaHoyWGFxUEVYNFlpM3FPdStSdGxGWjRES2QxQ01LVndDQU95M3M5VzJRVnUwUXFEK0ZhXG5jMjQzUTNiWGtFeTF1WURVWWM4RnRONmhHeTNGSW1raHQvTVdTbVV4YzA4MFZCQWZTSlpjU05RTEdPUmgzR3hxXG5ScFEwd1V1L2w3blhkYnhEeFowM0Y0YXZuR2RvUmlPSzlib1V0UjN3UVE1NXNSekdaQ2lPZEF1emppQWdEdEdQXG5QU1pWQnpUMW15RDJnWUU5b1VERmZhY2w5cVVVYldRT2pKc0NZTnhadXVkWFF0NklzWGtwZjFJOFJPbHg1L3hkXG5zdDNvK05TcWV4aGRCKzdCWU44ZnB1TmxsZXptUEVwaTEvL25pU3BUV0hrUjZrMU9zSVVVWjA2eVN1ak5ncTBXXG5lTXdUa2p3ekFnTUJBQUVDZ2dFQVJ1ZnB1bzFmTzdjZkxRWnA3QlROWHJkdHZtcE1uVTFpdk5JQ0phWlRKSmViXG5aeWVIMWNLVXlNYVRYTnpCL280eVloSkhJOWhOQUhWeEZyYU1HWmVKL1o5Wno3d2QzWHNBdUcvMkVMNldCVm9lXG5yWno4QmlqQ21vcUVkTEJEL09DYmtvZjc2bkpXMVVTd3E5NWU0cnEzcGg0UVdQRHh0V3FvZnVZeGY5SGFRWThaXG5iaGpJVmE0L01iQy93SmRPZ3dIK3VtOEpoSGk0QThxNkgzVUxROHcxSkZadU0ycExOUDBxZko5OTJ3TXRIRm04XG5YRVVhY2ovdFhiQkxzeG04bVlwRTdtZnJ5cUZPZ2REUWtaUUc0d0JsYWdmQjJrSVM1Q3QyUEJCYkI0bjdlYU0wXG42bUErYmM0M1lZS3g3OER4Q210K3JySXBMdjVmeEwrRGx4d24yVWVrN1FLQmdRRDdLVGNTSjFFa055bjVhNlFXXG4xM2pFNnBQaEJmVEZ6NUVaOTVtVUVLL0JGU0pLNTNtZlh3VEJRSTVXTnBJWG9iS1E0Z3UwUVhzanptanFVMFJSXG40NTRFQlFvKzlGUUpka25OUVo3VmIvK29rZ0FRc2tscDRyRzdTdUtrTnpjUWQ3b2FTZEZNTmFXM21UbklOaWtlXG5vSEh5U2pDaFZkeEVLVUZ5OXg0Y3pOM3hqUUtCZ1FDMSt2TUFwQ2NaTEdad0NZTFc5dWZ6QllDeENoQUdzMXBOXG42NDVSckJiaHJFSWEwU242Q3dhaGl4QU4vak0vNXlDb1FxbndYVTZEeGpjVUxnaHY4UDZaNVpwNVRBTVBWTHRIXG5nTjZCM1hlaTRMY1JpcnJGSjJmOU5MUWdCY04zUlJHWTl6bGJvOHdkck5ENElqbGJpYmJQUFJFekFmb21uVzBPXG5oamdSY293VXZ3S0JnRlpPOW43RmhndTA3VGFwOTh4bHBUbStCcTFJTjdJV1B4MjJTVTlwWUl3d2NBVmZnQnIxXG5NeFFaMUEvcVZzL0tJQ3ZMa2d3U2lIZG9nZ01zTkFrVCtBUVhtMHJBK1hQNjh5ZVd5amM4Y3BXQi9vVytUcDRWXG5hZEFienNCeHZQbHF1MGczWDdZWnBXWHZRTHo5WjZuL3BzaUZHQ3NJNzFWNCsrVys1OWtyeVlVdEFvR0FKUEhhXG5qYUhGMGtXQ1VuS0wzb3BuMHAybVg4clVNQmdQV0V4ZksxT05uYWswRG0reVh2SUlHWm02MjZ4a3lTOXFJTjdQXG4wMTJPQ0JDZ3MvY1lmV2xtdHVXM003THIyQnZ5blhTYk43QTNqcGlpY2V4Qk9LOWtYREpyOHloWVk0bGhKalhpXG5yaWtWMGx4NFhEZk9memY1SmgrV3MwMU9kTEozSm9DM04wdVRCczhDZ1lFQTh5eFFPaUx4anY3R2EvM1Y1bmNNXG5jYVg5Z1B3WUdrTE5POTRtaldNVGoyQU0rMUNJbU54Rnh4SUJ1YTRJVUZpR2VkUTdtTDhrQ2t4ang2QzRDa2NiXG5FWFpROE1DQlI3dGRjenNDdkNXVEF5c0dITFBwR1NtWEs1K3c1dFlqQlBQTWNteWlWNHMzTTBxQ2pwNWJJd2ZHXG5rSEdtZmZ0UndiWFM5VitqbzAvSUV1QT1cbi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS1cbiIsCiAgImNsaWVudF9lbWFpbCI6ICJmaXJlYmFzZS1hZG1pbnNkay1mYnN2Y0Bjb3VudGVyZmlldC0xMzBmNy5pYW0uZ3NlcnZpY2VhY2NvdW50LmNvbSIsCiAgImNsaWVudF9pZCI6ICIxMDUxMzQxODU4Njc1OTcwMjEzOTEiLAogICJhdXRoX3VyaSI6ICJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aCIsCiAgInRva2VuX3VyaSI6ICJodHRwczovL29hdXRoMi5nb29nbGVhcGlzLmNvbS90b2tlbiIsCiAgImF1dGhfcHJvdmlkZXJfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjEvY2VydHMiLAogICJjbGllbnRfeDUwOV9jZXJ0X3VybCI6ICJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9yb2JvdC92MS9tZXRhZGF0YS94NTA5L2ZpcmViYXNlLWFkbWluc2RrLWZic3ZjJTQwY291bnRlcmZpZXQtMTMwZjcuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJ1bml2ZXJzZV9kb21haW4iOiAiZ29vZ2xlYXBpcy5jb20iCn0K"
  }
  // --- END SECTION ---
}
