// .devcontainer/devcontainer.json
{
  "name": "Blockchain Medicine Tracker",
  "dockerComposeFile": "../docker-compose.yml",
  "service": "backend", // Which service in docker-compose.yml to use as the primary development container
  "workspaceFolder": "/app", // The workspace folder *within* the primary service container
  "remoteUser": "node", // The user to run as inside the container (e.g., 'node' for node:alpine images )

  "customizations": {
    "vscode": {
      "extensions": [
        "ms-vscode.vscode-typescript-next",
        "esbenp.prettier-vscode",
        "solidity.solidity" // Essential for Solidity development
      ]
    }
  },

  "portsAttributes": {
    "3000": { "label": "Frontend (React App)", "onAutoForward": "notify" },
    "5000": { "label": "Backend API", "onAutoForward": "notify" },
    "8545": { "label": "Ganache Blockchain", "onAutoForward": "notify" }
  },
  "forwardPorts": [3000, 5000, 8545],

  // --- ENSURE THIS SECTION IS CORRECTLY CONFIGURED ---
  // Environment variables to be set in the remote environment where VS Code runs commands (including docker-compose)
  "remoteEnv": {
    "FIREBASE_SERVICE_ACCOUNT_KEY_BASE64": "ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsCiAgInByb2plY3RfaWQiOiAiY291bnRlcmZpZXQtMTMwZjciLAogICJwcml2YXRlX2tleV9pZCI6ICJjNDQ2MzNmZDgyNmUwYTI4NjA5NTU3M2Y1YTVhMTA2MmM0NDVjNGNhIiwKICAicHJpdmF0ZV9rZXkiOiAiLS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tTUlJRXZRSUJBREFOQmdrcWhraUc5dzBCQVFFRkFBU0NCS2N3Z2dTakFnRUFBb0lCQVFDeWlsaVlYZG5DYS83WFFGbVJ1QWJESTZuK29oejJYYXFQRVg0WWkzcU91K1J0bEZaNERLZDFDTUtWd0NBT3kzczlXMlFWdTBRcUQrRmFjMjQzUTNiWGtFeTF1WURVWWM4RnRONmhHeTNGSW1raHQvTVdTbVV4YzA4MFZCQWZTSlpjU05RTEdPUmgzR3hxUnBRMHdVdS9sN25YZGJ4RHhaMDNGNGF2bkdkb1JpT0s5Ym9VdFIzd1FRNTVzUnpHWkNpT2RBdXpqaUFnRHRHUFBTWlZCelQxbXlEMmdZRTlvVURGZmFjbDlxVVViV1FPakpzQ1lOeFp1dWRYUXQ2SXNYa3BmMUk4Uk9seDUveGRzdDNvK05TcWV4aGRCKzdCWU44ZnB1TmxsZXptUEVwaTEvL25pU3BUV0hrUjZrMU9zSVVVWjA2eVN1ak5ncTBXZU13VGtqd3pBZ01CQUFFQ2dnRUFSdWZwdW8xZk83Y2ZMUVpwN0JUTlhyZHR2bXBNblUxaXZOSUNKYVpUSkplYlp5ZUgxY0tVeU1hVFhOekIvbzR5WWhKSEk5aE5BSFZ4RnJhTUdaZUovWjlaejd3ZDNYc0F1Ry8yRUw2V0JWb2VyWno4QmlqQ21vcUVkTEJEL09DYmtvZjc2bkpXMVVTd3E5NWU0cnEzcGg0UVdQRHh0V3FvZnVZeGY5SGFRWThaYmhqSVZhNC9NYkMvd0pkT2d3SCt1bThKaEhpNEE4cTZIM1VMUTh3MUpGWnVNMnBMTlAwcWZKOTkyd010SEZtOFhFVWFjai90WGJCTHN4bThtWXBFN21mcnlxRk9nZERRa1pRRzR3QmxhZ2ZCMmtJUzVDdDJQQkJiQjRuN2VhTTA2bUErYmM0M1lZS3g3OER4Q210K3JySXBMdjVmeEwrRGx4d24yVWVrN1FLQmdRRDdLVGNTSjFFa055bjVhNlFXMTNqRTZwUGhCZlRGejVFWjk1bVVFSy9CRlNKSzUzbWZYd1RCUUk1V05wSVhvYktRNGd1MFFYc2p6bWpxVTBSUjQ1NEVCUW8rOUZRSmRrbk5RWjdWYi8rb2tnQVFza2xwNHJHN1N1S2tOemNRZDdvYVNkRk1OYVczbVRuSU5pa2VvSEh5U2pDaFZkeEVLVUZ5OXg0Y3pOM3hqUUtCZ1FDMSt2TUFwQ2NaTEdad0NZTFc5dWZ6QllDeENoQUdzMXBONjQ1UnJCYmhyRUlhMFNuNkN3YWhpeEFOL2pNLzV5Q29RcW53WFU2RHhqY1VMZ2h2OFA2WjVacDVUQU1QVkx0SGdONkIzWGVpNExjUmlyckZKMmY5TkxRZ0JjTjNSUkdZOXpsYm84d2RyTkQ0SWpsYmliYlBQUkV6QWZvbW5XME9oamdSY293VXZ3S0JnRlpPOW43RmhndTA3VGFwOTh4bHBUbStCcTFJTjdJV1B4MjJTVTlwWUl3d2NBVmZnQnIxTXhRWjFBL3FWcy9LSUN2TGtnd1NpSGRvZ2dNc05Ba1QrQVFYbTByQStYUDY4eWVXeWpjOGNwV0Ivb1crVHA0VmFkQWJ6c0J4dlBscXUwZzNYN1lacFdYdlFMejlaNm4vcHNpRkdDc0k3MVY0KytXKzU5a3J5WVV0QW9HQUpQSGFqYUhGMGtXQ1VuS0wzb3BuMHAybVg4clVNQmdQV0V4ZksxT05uYWswRG0reVh2SUlHWm02MjZ4a3lTOXFJTjdQMDEyT0NCQ2dzL2NZZldsbXR1VzNNN0xyMkJ2eW5YU2JON0EzanBpaWNleEJPSzlrWERKcjh5aFlZNGxoSmpYaXJpa1YwbHg0WERmT2Z6ZjVKaCtXczAxT2RMSjNKb0MzTjB1VEJzOENnWUVBOHl4UU9pTHhqdjdHYS8zVjVuY01jYVg5Z1B3WUdrTE5POTRtaldNVGoyQU0rMUNJbU54Rnh4SUJ1YTRJVUZpR2VkUTdtTDhrQ2t4ang2QzRDa2NiRVhaUThNQ0JSN3RkY3pzQ3ZDV1RBeXNHSExQcEdTbVhLNSt3NXRZakJQUE1jbXlpVjRzM00wcUNqcDViSXdmR2tIR21mZnRSd2JYUzlWK2pvMC9JRXVBPS0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0iLAogICJjbGllbnRfZW1haWwiOiAiZmlyZWJhc2UtYWRtaW5zZGstZmJzdmNAY291bnRlcmZpZXQtMTMwZjcuaWFtLmdzZXJ2aWNlYWNjb3VudC5jb20iLAogICJjbGllbnRfaWQiOiAiMTA1MTM0MTg1ODY3NTk3MDIxMzkxIiwKICAiYXV0aF91cmkiOiAiaHR0cHM6Ly9hY2NvdW50cy5nb29nbGUuY29tL28vb2F1dGgyL2F1dGgiLAogICJ0b2tlbl91cmkiOiAiaHR0cHM6Ly9vYXV0aDIuZ29vZ2xlYXBpcy5jb20vdG9rZW4iLAogICJhdXRoX3Byb3ZpZGVyX3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YxL2NlcnRzIiwKICAiY2xpZW50X3g1MDlfY2VydF91cmwiOiAiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vcm9ib3QvdjEvbWV0YWRhdGEveDUwOS9maXJlYmFzZS1hZG1pbnNkay1mYnN2YyU0MGNvdW50ZXJmaWV0LTEzMGY3LmlhbS5nc2VydmljZWFjY291bnQuY29tIiwKICAidW5pdmVyc2VfZG9tYWluIjogImdvb2dsZWFwaXMuY29tIgp9Cg=="
  }
  // --- END SECTION ---
}
